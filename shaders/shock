#version 330 core
out vec4 FragColor;
in vec2 TexCoords;
uniform sampler2D screenTexture;
uniform vec2 center;
uniform float time;
void main() {
    float speed = 2.0;
    float maxRadius = 1.5;
    float waveFrequency = 20.0;
    float damping = 0.5;
    float currentRadius = maxRadius * mod(time * speed, 1.0);
    float dist = distance(center, TexCoords);
    float waveEffect = sin((dist - currentRadius) * waveFrequency) * exp(-dist * damping);
    float mask = smoothstep(0.0, 0.02, abs(waveEffect));
    vec2 rippleCoords = TexCoords + normalize(TexCoords - center) * waveEffect * mask * 0.02;
    FragColor = texture(screenTexture, rippleCoords);
}
